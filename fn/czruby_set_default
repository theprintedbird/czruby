# Sets the default Ruby environment to use when no specific version is specified.
{
	# Reject empty string argument, default only when argument omitted
	if [[ $# -gt 0 && -z "$1" ]]; then
		return 1
	fi
	local choice="${1:-system}"
	if [[ -z ${(M)rubies:#*$choice} ]]; then
		print "That ruby is not available\n\n"
		czruby
		return 1
	fi

	if [[ -f "$czruby_datadir/${choice}" ]]; then
		RUBIES_DEFAULT="$choice"
		ln -fs "$czruby_datadir/${RUBIES_DEFAULT}" "$czruby_datadir/default"
	else
		printf "That ruby has not been set up, please run czruby_setup\n\n"
		return 1
	fi

	czruby_reset "$choice"
}


